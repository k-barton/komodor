{
  "keyboard_shortcut": "", 
  "name": "Rmarkdown preview", 
  "language": "JavaScript", 
  "trigger_enabled": false, 
  "value": [
    "", 
    "let beVerbose = false;", 
    "", 
    "let view = ko.views.manager.currentView;", 
    "if (!view || !view.koDoc) return;", 
    "", 
    "if (['Rmarkdown', 'Markdown'].indexOf(view.koDoc.language) == -1)", 
    "    return;", 
    "", 
    "let file = sv.r.pathWithCurrentViewContent();", 
    "if (file) {", 
    "    sv.rconn.evalAsync(\"cat(sv.Rmd2html('\" + sv.string.addslashes(file) + \"', verbose = \" +", 
    "                       (beVerbose ? \"TRUE\" : \"FALSE\") + \"))\",", 
    "        (output) => {", 
    "            var path = output.substr(output.search(/[^\\r\\n]+$/)).trim();", 
    "            if (!sv.file.exists(path)) {", 
    "                ko.dialogs.alert(output, null, \"Rmarkdown preview\");", 
    "                return;", 
    "            }", 
    "            sv.command.openHelp(sv.file.toFileURI(path));", 
    "        }, false);", 
    "}"
  ], 
  "trigger": "trigger_postopen", 
  "rank": 100, 
  "version": "1.0.12", 
  "async": false, 
  "type": "macro", 
  "icon": "koicon://ko-svg/chrome/icomoon/skin/screen4.svg"
}